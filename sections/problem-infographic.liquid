{{ 'problem-infographic.css' | asset_url | stylesheet_tag }}

<section
  class="nad-decline-meter section-{{ section.id }}-padding"
  style="--section-bg-color: {{ section.settings.section_bg_color }};"
>
  <div class="nad-decline-meter__container page-width">
    <!-- Two Column Layout -->
    <div class="nad-decline-meter__two-column {% if section.settings.swap_columns %}nad-decline-meter__two-column--swapped{% endif %}">
      <!-- Left Column: Text Content -->
      <div class="nad-decline-meter__content-col" style="--content-alignment: {{ section.settings.content_alignment }};">
        <p
          class="nad-decline-meter__subtitle"
          style="--subtitle-color: {{ section.settings.subtitle_color }};"
        >
          {{ section.settings.subtitle }}
        </p>

        <h2 class="nad-decline-meter__heading">
          {{ section.settings.main_heading | replace: 'NAD+', '<span class="nad-highlight" style="color: ' | append: section.settings.heading_highlight_color | append: ';">NAD+</span>' }}
        </h2>

        <div class="nad-decline-meter__description rte">
          {{ section.settings.description }}
        </div>

        {% if section.settings.button_text != blank %}
          <a
            href="{{ section.settings.button_link }}"
            class="nad-decline-meter__button"
            style="--button-text-color: {{ section.settings.button_text_color }}; --button-bg-color: {{ section.settings.button_bg_color }}; --button-border-color: {{ section.settings.button_border_color }}; --button-hover-bg-color: {{ section.settings.button_border_color }}; --button-hover-text-color: #ffffff;"
          >
            {{ section.settings.button_text }}
          </a>
        {% endif %}
      </div>

      <!-- Right Column: Gauge -->
      <div class="nad-decline-meter__gauge-col">
        <h3 class="nad-decline-meter__title" style="--title-color: {{ section.settings.title_color }};">
          {{ section.settings.title }}
        </h3>

        <div class="nad-decline-meter__gauge-wrapper">
          <svg
            class="nad-decline-meter__gauge"
            viewBox="0 0 300 300"
            aria-labelledby="gaugeTitle-{{ section.id }}"
            role="img"
          >
            <title id="gaugeTitle-{{ section.id }}">
              {{ section.settings.title }} - {{ section.settings.decline_percentage }}% Decline
            </title>
            <defs>
              <linearGradient id="gaugeGradient-{{ section.id }}" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:{{ section.settings.gauge_color }};" />
                <stop offset="100%" style="stop-color:{{ section.settings.gauge_gradient_end_color }};" />
              </linearGradient>
              <filter id="glow-{{ section.id }}" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="8" result="coloredBlur" />
                <feMerge>
                  <feMergeNode in="coloredBlur" />
                  <feMergeNode in="SourceGraphic" />
                </feMerge>
              </filter>
            </defs>

            <!-- Background circle -->
            <circle
              class="nad-decline-meter__circle-bg"
              cx="150"
              cy="150"
              r="130"
              fill="none"
              stroke-width="14"
              style="--gauge-bg-color: {{ section.settings.gauge_bg_color }};"
            />

            <!-- Animated progress circle -->
            <circle
              class="nad-decline-meter__circle-progress"
              cx="150"
              cy="150"
              r="130"
              fill="none"
              stroke="url(#gaugeGradient-{{ section.id }})"
              stroke-width="14"
              stroke-linecap="round"
              style="transform-origin: center; transform: rotate(180deg) scaleY(-1);"
              data-percentage="{{ section.settings.decline_percentage }}"
            />
          </svg>

          <div class="nad-decline-meter__content">
            <div
              class="nad-decline-meter__percentage"
              style="--percentage-color: {{ section.settings.percentage_color }};"
            >
              ↓ 0%
            </div>
            <div class="nad-decline-meter__label" style="--label-color: {{ section.settings.label_color }};">
              {{ section.settings.label_text }}
            </div>
          </div>
        </div>

        <div class="nad-decline-meter__timeline">
          <div class="nad-decline-meter__timeline-item">
            <div class="nad-decline-meter__age" style="--age-text-color: {{ section.settings.age_text_color }};">
              {{ section.settings.start_age }}
            </div>
            <div class="nad-decline-meter__status" style="--status-text-color: {{ section.settings.status_text_color }};">
              Age 30
            </div>
          </div>
          <div
            class="nad-decline-meter__timeline-line"
            style="--timeline-line-color: {{ section.settings.timeline_line_color }}; --timeline-line-bg-color: {{ section.settings.timeline_line_bg_color }}; --timeline-endpoint-color: {{ section.settings.timeline_endpoint_color }};"
          ></div>
          <div class="nad-decline-meter__timeline-item">
            <div class="nad-decline-meter__age" style="--age-text-color: {{ section.settings.age_text_color }};">
              {{ section.settings.end_age }}
            </div>
            <div class="nad-decline-meter__status" style="--status-text-color: {{ section.settings.status_text_color }};">
              Age 70
            </div>
          </div>
        </div>

        <div class="nad-decline-meter__citation" style="--citation-color: {{ section.settings.citation_color }};">
          {{ section.settings.citation_text }}
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  (function () {
    const section = document.querySelector('.nad-decline-meter');

    if (!section) return;

    const progressCircle = section.querySelector('.nad-decline-meter__circle-progress');

    const percentageElement = section.querySelector('.nad-decline-meter__percentage');

    const targetPercentage = parseFloat(progressCircle.getAttribute('data-percentage'));

    const radius = 130;

    const circumference = 2 * Math.PI * radius;

    // Calculate offset to show decline percentage filled from top

    const offset = circumference - (targetPercentage / 100) * circumference;

    // Set initial state

    progressCircle.style.strokeDasharray = circumference;

    progressCircle.style.strokeDashoffset = circumference;

    progressCircle.style.transition = 'none';

    let animationFrameId = null;

    let isAnimating = false;

    // Number animation function using requestAnimationFrame

    function animateNumber(duration = 2000) {
      if (isAnimating) return;

      isAnimating = true;

      const startTime = performance.now();

      const startValue = 0;

      let lastValue = -1; // Track last rendered value to avoid unnecessary updates

      function updateNumber(currentTime) {
        const elapsed = currentTime - startTime;

        const progress = Math.min(elapsed / duration, 1);

        // Easing function (ease-out cubic)

        const easedProgress = 1 - Math.pow(1 - progress, 3);

        const currentValue = Math.round(startValue + (targetPercentage - startValue) * easedProgress);

        // Only update DOM if value actually changed (reduces flickering)

        if (currentValue !== lastValue) {
          percentageElement.textContent = '↓ ' + currentValue + '%';

          lastValue = currentValue;
        }

        if (progress < 1) {
          animationFrameId = requestAnimationFrame(updateNumber);
        } else {
          if (lastValue !== targetPercentage) {
            percentageElement.textContent = '↓ ' + targetPercentage + '%';
          }

          isAnimating = false;
        }
      }

      animationFrameId = requestAnimationFrame(updateNumber);
    }

    // Reset animation to initial state

    function resetAnimation() {
      if (animationFrameId) {
        cancelAnimationFrame(animationFrameId);

        animationFrameId = null;
      }

      isAnimating = false;

      percentageElement.textContent = '↓ 0%';

      progressCircle.style.transition = 'none';

      progressCircle.style.strokeDashoffset = circumference;

      progressCircle.style.filter = 'none';

      // Force reflow

      progressCircle.offsetHeight;
    }

    // Main animation function

    function animateGauge() {
      // Animate circle (slower)

      progressCircle.style.transition = 'stroke-dashoffset 3.5s cubic-bezier(0.77, 0, 0.175, 1)';

      progressCircle.style.strokeDashoffset = offset;

      // Animate number (slower)

      animateNumber(3500);

      // Add glow effect after animation completes

      setTimeout(() => {
        progressCircle.style.filter = 'url(#glow-{{ section.id }})';
      }, 3500);
    }

    // Loop animation every 10 seconds

    function startAnimationLoop() {
      animateGauge();

      setInterval(() => {
        resetAnimation();

        // Start new animation after a short delay

        setTimeout(() => {
          animateGauge();
        }, 100);
      }, 10000);
    }

    // Intersection Observer for scroll-triggered animation

    const observerOptions = {
      threshold: 0.3,

      rootMargin: '0px',
    };

    let hasAnimated = false;

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting && !hasAnimated) {
          hasAnimated = true;

          startAnimationLoop();

          observer.unobserve(entry.target);
        }
      });
    }, observerOptions);

    observer.observe(section);
  })();
</script>

<style>
  .section-{{ section.id }}-padding {
    background-color: var(--section-bg-color);
    padding-top: {{ section.settings.padding_top_mobile }}px;
    padding-bottom: {{ section.settings.padding_bottom_mobile }}px;
  }

  .nad-decline-meter__content-col {
    text-align: var(--content-alignment);
    margin-top: {{ section.settings.content_col_margin_top_mobile }}px;
    margin-bottom: {{ section.settings.content_col_margin_bottom_mobile }}px;
  }

  .nad-decline-meter__subtitle {
    font-size: {{ section.settings.subtitle_font_size_mobile }}px;
    color: var(--subtitle-color);
    margin-bottom: {{ section.settings.subtitle_margin_bottom_mobile }}px;
    padding: {{ section.settings.subtitle_padding_mobile }}px;
  }

  .nad-decline-meter__heading {
    font-size: {{ section.settings.heading_font_size_mobile }}px;
    color: {{ section.settings.heading_color }};
    margin-bottom: {{ section.settings.heading_margin_bottom_mobile }}px;
    padding: {{ section.settings.heading_padding_mobile }}px;
  }

  .nad-decline-meter__description {
    font-size: {{ section.settings.description_font_size_mobile }}px;
    color: {{ section.settings.description_color }};
    margin-bottom: {{ section.settings.description_margin_bottom_mobile }}px;
    padding: {{ section.settings.description_padding_mobile }}px;
  }

  .nad-decline-meter__button {
    font-size: {{ section.settings.button_font_size_mobile }}px;
    padding: {{ section.settings.button_padding_vertical_mobile }}px {{ section.settings.button_padding_horizontal_mobile }}px;
    margin-top: {{ section.settings.button_margin_top_mobile }}px;
    color: var(--button-text-color);
    background-color: var(--button-bg-color);
    border-color: var(--button-border-color);
  }
  .nad-decline-meter__button:hover {
    background-color: var(--button-hover-bg-color);
    color: var(--button-hover-text-color);
  }

  .nad-decline-meter__gauge-col {
    margin-top: {{ section.settings.gauge_col_margin_top_mobile }}px;
    margin-bottom: {{ section.settings.gauge_col_margin_bottom_mobile }}px;
  }

  .nad-decline-meter__title {
    font-size: {{ section.settings.title_font_size_mobile }}px;
    color: var(--title-color);
    margin-bottom: {{ section.settings.title_margin_bottom_mobile }}px;
    padding: {{ section.settings.title_padding_mobile }}px;
  }

  .nad-decline-meter__percentage {
    font-size: {{ section.settings.percentage_font_size_mobile }}px;
    color: var(--percentage-color);
  }

  .nad-decline-meter__label {
    font-size: {{ section.settings.label_font_size_mobile }}px;
    color: var(--label-color);
  }

  .nad-decline-meter__timeline {
    margin-top: {{ section.settings.timeline_margin_top_mobile }}px;
    margin-bottom: {{ section.settings.timeline_margin_bottom_mobile }}px;
  }

  .nad-decline-meter__timeline-line {
    background: linear-gradient(to right, var(--timeline-line-color) 0%, var(--timeline-line-bg-color) 50%, var(--timeline-endpoint-color) 100%);
  }
  .nad-decline-meter__timeline-line::before {
    background-color: var(--timeline-line-color);
  }
  .nad-decline-meter__timeline-line::after {
    background-color: var(--timeline-endpoint-color);
  }

  .nad-decline-meter__age {
    font-size: {{ section.settings.age_font_size_mobile }}px;
    color: var(--age-text-color);
    margin-bottom: {{ section.settings.age_margin_bottom_mobile }}px;
  }

  .nad-decline-meter__status {
    font-size: {{ section.settings.status_font_size_mobile }}px;
    color: var(--status-text-color);
  }

  .nad-decline-meter__citation {
    font-size: {{ section.settings.citation_font_size_mobile }}px;
    color: var(--citation-color);
    margin-top: {{ section.settings.citation_margin_top_mobile }}px;
    padding: {{ section.settings.citation_padding_mobile }}px;
  }

  .nad-decline-meter__circle-bg {
    stroke: var(--gauge-bg-color);
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top_desktop }}px;
      padding-bottom: {{ section.settings.padding_bottom_desktop }}px;
    }
    .nad-decline-meter__content-col {
      margin-top: {{ section.settings.content_col_margin_top_desktop }}px;
      margin-bottom: {{ section.settings.content_col_margin_bottom_desktop }}px;
    }
    .nad-decline-meter__subtitle {
      font-size: {{ section.settings.subtitle_font_size_desktop }}px;
      margin-bottom: {{ section.settings.subtitle_margin_bottom_desktop }}px;
      padding: {{ section.settings.subtitle_padding_desktop }}px;
    }
    .nad-decline-meter__heading {
      font-size: {{ section.settings.heading_font_size_desktop }}px;
      margin-bottom: {{ section.settings.heading_margin_bottom_desktop }}px;
      padding: {{ section.settings.heading_padding_desktop }}px;
    }
    .nad-decline-meter__description {
      font-size: {{ section.settings.description_font_size_desktop }}px;
      margin-bottom: {{ section.settings.description_margin_bottom_desktop }}px;
      padding: {{ section.settings.description_padding_desktop }}px;
    }
    .nad-decline-meter__button {
      font-size: {{ section.settings.button_font_size_desktop }}px;
      padding: {{ section.settings.button_padding_vertical_desktop }}px {{ section.settings.button_padding_horizontal_desktop }}px;
      margin-top: {{ section.settings.button_margin_top_desktop }}px;
    }
    .nad-decline-meter__gauge-col {
      margin-top: {{ section.settings.gauge_col_margin_top_desktop }}px;
      margin-bottom: {{ section.settings.gauge_col_margin_bottom_desktop }}px;
    }
    .nad-decline-meter__title {
      font-size: {{ section.settings.title_font_size_desktop }}px;
      margin-bottom: {{ section.settings.title_margin_bottom_desktop }}px;
      padding: {{ section.settings.title_padding_desktop }}px;
    }
    .nad-decline-meter__percentage {
      font-size: {{ section.settings.percentage_font_size_desktop }}px;
    }
    .nad-decline-meter__label {
      font-size: {{ section.settings.label_font_size_desktop }}px;
    }
    .nad-decline-meter__timeline {
      margin-top: {{ section.settings.timeline_margin_top_desktop }}px;
      margin-bottom: {{ section.settings.timeline_margin_bottom_desktop }}px;
    }
    .nad-decline-meter__age {
      font-size: {{ section.settings.age_font_size_desktop }}px;
      margin-bottom: {{ section.settings.age_margin_bottom_desktop }}px;
    }
    .nad-decline-meter__status {
      font-size: {{ section.settings.status_font_size_desktop }}px;
    }
    .nad-decline-meter__citation {
      font-size: {{ section.settings.citation_font_size_desktop }}px;
      margin-top: {{ section.settings.citation_margin_top_desktop }}px;
      padding: {{ section.settings.citation_padding_desktop }}px;
    }
  }

  .nad-decline-meter__two-column--swapped {
    direction: rtl;
  }

  .nad-decline-meter__two-column--swapped > * {
    direction: ltr;
  }

  #gaugeGradient-{{ section.id }} stop:first-child {
    stop-color: {{ section.settings.gauge_color }};
  }

  #gaugeGradient-{{ section.id }} stop:last-child {
    stop-color: {{ section.settings.gauge_gradient_end_color }};
  }
</style>

{% schema %}
{
  "name": "NAD+ Decline Meter",
  "tag": "section",
  "class": "section-nad-decline-meter",
  "settings": [
    {
      "type": "header",
      "content": "Section Settings"
    },
    {
      "type": "color",
      "id": "section_bg_color",
      "label": "Section Background Color",
      "default": "#ffffff"
    },
    {
      "type": "checkbox",
      "id": "swap_columns",
      "label": "Swap Columns",
      "default": false,
      "info": "Switch the position of text content and gauge"
    },
    {
      "type": "header",
      "content": "Left Column Content"
    },
    {
      "type": "select",
      "id": "content_alignment",
      "label": "Content Alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "left"
    },
    {
      "type": "range",
      "id": "content_col_margin_top_desktop",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Column Margin Top (Desktop)",
      "default": 0
    },
    {
      "type": "range",
      "id": "content_col_margin_bottom_desktop",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Column Margin Bottom (Desktop)",
      "default": 0
    },
    {
      "type": "range",
      "id": "content_col_margin_top_mobile",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Column Margin Top (Mobile)",
      "default": 0
    },
    {
      "type": "range",
      "id": "content_col_margin_bottom_mobile",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Column Margin Bottom (Mobile)",
      "default": 0
    },
    {
      "type": "header",
      "content": "Subtitle Settings"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "THE SCIENCE BEHIND NAD+"
    },
    {
      "type": "range",
      "id": "subtitle_font_size_desktop",
      "min": 12,
      "max": 48,
      "step": 1,
      "unit": "px",
      "label": "Font Size (Desktop)",
      "default": 24
    },
    {
      "type": "range",
      "id": "subtitle_font_size_mobile",
      "min": 10,
      "max": 36,
      "step": 1,
      "unit": "px",
      "label": "Font Size (Mobile)",
      "default": 18
    },
    {
      "type": "color",
      "id": "subtitle_color",
      "label": "Subtitle Color",
      "default": "#5a5a5a"
    },
    {
      "type": "range",
      "id": "subtitle_margin_bottom_desktop",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Margin Bottom (Desktop)",
      "default": 15
    },
    {
      "type": "range",
      "id": "subtitle_margin_bottom_mobile",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Margin Bottom (Mobile)",
      "default": 10
    },
    {
      "type": "range",
      "id": "subtitle_padding_desktop",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Padding (Desktop)",
      "default": 0
    },
    {
      "type": "range",
      "id": "subtitle_padding_mobile",
      "min": 0,
      "max": 30,
      "step": 5,
      "unit": "px",
      "label": "Padding (Mobile)",
      "default": 0
    },
    {
      "type": "header",
      "content": "Main Heading Settings"
    },
    {
      "type": "text",
      "id": "main_heading",
      "label": "Main Heading",
      "default": "Every cell in your body is fueled by NAD+"
    },
    {
      "type": "range",
      "id": "heading_font_size_desktop",
      "min": 20,
      "max": 80,
      "step": 2,
      "unit": "px",
      "label": "Font Size (Desktop)",
      "default": 48
    },
    {
      "type": "range",
      "id": "heading_font_size_mobile",
      "min": 18,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Font Size (Mobile)",
      "default": 32
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading Color",
      "default": "#0b63ce"
    },
    {
      "type": "color",
      "id": "heading_highlight_color",
      "label": "Heading Highlight Color (NAD+)",
      "default": "#0b63ce"
    },
    {
      "type": "range",
      "id": "heading_margin_bottom_desktop",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Margin Bottom (Desktop)",
      "default": 25
    },
    {
      "type": "range",
      "id": "heading_margin_bottom_mobile",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Margin Bottom (Mobile)",
      "default": 20
    },
    {
      "type": "range",
      "id": "heading_padding_desktop",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Padding (Desktop)",
      "default": 0
    },
    {
      "type": "range",
      "id": "heading_padding_mobile",
      "min": 0,
      "max": 30,
      "step": 5,
      "unit": "px",
      "label": "Padding (Mobile)",
      "default": 0
    },
    {
      "type": "header",
      "content": "Description Settings"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Your 37.2 trillion cells are powered by NAD+, a vital coenzyme that fuels cellular energy and repair throughout your entire body. NAD+ levels naturally decline with age, lifestyle factors, and stressors. Replenishing NAD+ levels is essential for maintaining your cellular health, energy, and vitality."
    },
    {
      "type": "range",
      "id": "description_font_size_desktop",
      "min": 12,
      "max": 36,
      "step": 1,
      "unit": "px",
      "label": "Font Size (Desktop)",
      "default": 18
    },
    {
      "type": "range",
      "id": "description_font_size_mobile",
      "min": 10,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Font Size (Mobile)",
      "default": 14
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Description Color",
      "default": "#555555"
    },
    {
      "type": "range",
      "id": "description_margin_bottom_desktop",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Margin Bottom (Desktop)",
      "default": 25
    },
    {
      "type": "range",
      "id": "description_margin_bottom_mobile",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Margin Bottom (Mobile)",
      "default": 20
    },
    {
      "type": "range",
      "id": "description_padding_desktop",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Padding (Desktop)",
      "default": 0
    },
    {
      "type": "range",
      "id": "description_padding_mobile",
      "min": 0,
      "max": 30,
      "step": 5,
      "unit": "px",
      "label": "Padding (Mobile)",
      "default": 0
    },
    {
      "type": "header",
      "content": "Button Settings"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Learn More"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link"
    },
    {
      "type": "range",
      "id": "button_font_size_desktop",
      "min": 12,
      "max": 32,
      "step": 1,
      "unit": "px",
      "label": "Font Size (Desktop)",
      "default": 16
    },
    {
      "type": "range",
      "id": "button_font_size_mobile",
      "min": 10,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Font Size (Mobile)",
      "default": 14
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button Text Color",
      "default": "#0b63ce"
    },
    {
      "type": "color",
      "id": "button_bg_color",
      "label": "Button Background Color",
      "default": "transparent"
    },
    {
      "type": "color",
      "id": "button_border_color",
      "label": "Button Border Color",
      "default": "#0b63ce"
    },
    {
      "type": "range",
      "id": "button_padding_vertical_desktop",
      "min": 0,
      "max": 50,
      "step": 2,
      "unit": "px",
      "label": "Padding Vertical (Desktop)",
      "default": 14
    },
    {
      "type": "range",
      "id": "button_padding_horizontal_desktop",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Padding Horizontal (Desktop)",
      "default": 30
    },
    {
      "type": "range",
      "id": "button_padding_vertical_mobile",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Padding Vertical (Mobile)",
      "default": 10
    },
    {
      "type": "range",
      "id": "button_padding_horizontal_mobile",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Padding Horizontal (Mobile)",
      "default": 20
    },
    {
      "type": "range",
      "id": "button_margin_top_desktop",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Margin Top (Desktop)",
      "default": 0
    },
    {
      "type": "range",
      "id": "button_margin_top_mobile",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Margin Top (Mobile)",
      "default": 0
    },
    {
      "type": "header",
      "content": "Right Column - Gauge"
    },
    {
      "type": "range",
      "id": "gauge_col_margin_top_desktop",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Gauge Column Margin Top (Desktop)",
      "default": 0
    },
    {
      "type": "range",
      "id": "gauge_col_margin_bottom_desktop",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Gauge Column Margin Bottom (Desktop)",
      "default": 0
    },
    {
      "type": "range",
      "id": "gauge_col_margin_top_mobile",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Gauge Column Margin Top (Mobile)",
      "default": 0
    },
    {
      "type": "range",
      "id": "gauge_col_margin_bottom_mobile",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Gauge Column Margin Bottom (Mobile)",
      "default": 20
    },
    {
      "type": "header",
      "content": "Gauge Title Settings"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Gauge Title",
      "default": "NAD+ Declines by Up to 65% Between Ages 30 and 70"
    },
    {
      "type": "range",
      "id": "title_font_size_desktop",
      "min": 14,
      "max": 48,
      "step": 1,
      "unit": "px",
      "label": "Font Size (Desktop)",
      "default": 20
    },
    {
      "type": "range",
      "id": "title_font_size_mobile",
      "min": 12,
      "max": 36,
      "step": 1,
      "unit": "px",
      "label": "Font Size (Mobile)",
      "default": 16
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title Color",
      "default": "#002f5c"
    },
    {
      "type": "range",
      "id": "title_margin_bottom_desktop",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Margin Bottom (Desktop)",
      "default": 30
    },
    {
      "type": "range",
      "id": "title_margin_bottom_mobile",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Margin Bottom (Mobile)",
      "default": 20
    },
    {
      "type": "range",
      "id": "title_padding_desktop",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Padding (Desktop)",
      "default": 0
    },
    {
      "type": "range",
      "id": "title_padding_mobile",
      "min": 0,
      "max": 30,
      "step": 5,
      "unit": "px",
      "label": "Padding (Mobile)",
      "default": 0
    },
    {
      "type": "header",
      "content": "Gauge Settings"
    },
    {
      "type": "range",
      "id": "decline_percentage",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Decline Percentage",
      "default": 65
    },
    {
      "type": "color",
      "id": "gauge_color",
      "label": "Gauge Color",
      "default": "#0b63ce"
    },
    {
      "type": "color",
      "id": "gauge_gradient_end_color",
      "label": "Gauge Gradient End Color",
      "default": "#6ba3e8",
      "info": "Second color for gauge gradient"
    },
    {
      "type": "color",
      "id": "gauge_bg_color",
      "label": "Gauge Background Color",
      "default": "#e5e7eb"
    },
    {
      "type": "header",
      "content": "Gauge Center Text Settings"
    },
    {
      "type": "range",
      "id": "percentage_font_size_desktop",
      "min": 24,
      "max": 80,
      "step": 2,
      "unit": "px",
      "label": "Percentage Font Size (Desktop)",
      "default": 48
    },
    {
      "type": "range",
      "id": "percentage_font_size_mobile",
      "min": 20,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Percentage Font Size (Mobile)",
      "default": 32
    },
    {
      "type": "color",
      "id": "percentage_color",
      "label": "Percentage Color",
      "default": "#000000"
    },
    {
      "type": "text",
      "id": "label_text",
      "label": "Label Text",
      "default": "NAD+ Decline"
    },
    {
      "type": "range",
      "id": "label_font_size_desktop",
      "min": 10,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Label Font Size (Desktop)",
      "default": 14
    },
    {
      "type": "range",
      "id": "label_font_size_mobile",
      "min": 8,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Label Font Size (Mobile)",
      "default": 12
    },
    {
      "type": "color",
      "id": "label_color",
      "label": "Label Color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Timeline Settings"
    },
    {
      "type": "number",
      "id": "start_age",
      "label": "Start Age",
      "default": 30
    },
    {
      "type": "number",
      "id": "end_age",
      "label": "End Age",
      "default": 70
    },
    {
      "type": "range",
      "id": "timeline_margin_top_desktop",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Margin Top (Desktop)",
      "default": 0
    },
    {
      "type": "range",
      "id": "timeline_margin_bottom_desktop",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Margin Bottom (Desktop)",
      "default": 0
    },
    {
      "type": "range",
      "id": "timeline_margin_top_mobile",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Margin Top (Mobile)",
      "default": 0
    },
    {
      "type": "range",
      "id": "timeline_margin_bottom_mobile",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Margin Bottom (Mobile)",
      "default": 0
    },
    {
      "type": "color",
      "id": "timeline_line_color",
      "label": "Timeline Line Color",
      "default": "#0b63ce"
    },
    {
      "type": "color",
      "id": "timeline_line_bg_color",
      "label": "Timeline Line Background",
      "default": "#e5e7eb"
    },
    {
      "type": "color",
      "id": "timeline_endpoint_color",
      "label": "Timeline Endpoint Color",
      "default": "#cde6ff"
    },
    {
      "type": "header",
      "content": "Age Text Settings"
    },
    {
      "type": "range",
      "id": "age_font_size_desktop",
      "min": 12,
      "max": 36,
      "step": 1,
      "unit": "px",
      "label": "Font Size (Desktop)",
      "default": 18
    },
    {
      "type": "range",
      "id": "age_font_size_mobile",
      "min": 10,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Font Size (Mobile)",
      "default": 14
    },
    {
      "type": "color",
      "id": "age_text_color",
      "label": "Color",
      "default": "#111827"
    },
    {
      "type": "range",
      "id": "age_margin_bottom_desktop",
      "min": 0,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Margin Bottom (Desktop)",
      "default": 4
    },
    {
      "type": "range",
      "id": "age_margin_bottom_mobile",
      "min": 0,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Margin Bottom (Mobile)",
      "default": 2
    },
    {
      "type": "header",
      "content": "Status Text Settings"
    },
    {
      "type": "range",
      "id": "status_font_size_desktop",
      "min": 10,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Font Size (Desktop)",
      "default": 14
    },
    {
      "type": "range",
      "id": "status_font_size_mobile",
      "min": 8,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Font Size (Mobile)",
      "default": 12
    },
    {
      "type": "color",
      "id": "status_text_color",
      "label": "Color",
      "default": "#6b7280"
    },
    {
      "type": "header",
      "content": "Citation Settings"
    },
    {
      "type": "text",
      "id": "citation_text",
      "label": "Citation Text",
      "default": "Source: Massudi et al., PLoS ONE, 1012; Jinfinity Health Report."
    },
    {
      "type": "range",
      "id": "citation_font_size_desktop",
      "min": 8,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Font Size (Desktop)",
      "default": 12
    },
    {
      "type": "range",
      "id": "citation_font_size_mobile",
      "min": 8,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Font Size (Mobile)",
      "default": 10
    },
    {
      "type": "color",
      "id": "citation_color",
      "label": "Color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "citation_margin_top_desktop",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Margin Top (Desktop)",
      "default": 25
    },
    {
      "type": "range",
      "id": "citation_margin_top_mobile",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Margin Top (Mobile)",
      "default": 15
    },
    {
      "type": "range",
      "id": "citation_padding_desktop",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Padding (Desktop)",
      "default": 0
    },
    {
      "type": "range",
      "id": "citation_padding_mobile",
      "min": 0,
      "max": 30,
      "step": 5,
      "unit": "px",
      "label": "Padding (Mobile)",
      "default": 0
    },
    {
      "type": "header",
      "content": "Section Padding"
    },
    {
      "type": "range",
      "id": "padding_top_desktop",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px",
      "label": "Padding Top (Desktop)",
      "default": 80
    },
    {
      "type": "range",
      "id": "padding_bottom_desktop",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px",
      "label": "Padding Bottom (Desktop)",
      "default": 80
    },
    {
      "type": "range",
      "id": "padding_top_mobile",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Padding Top (Mobile)",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom_mobile",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Padding Bottom (Mobile)",
      "default": 40
    }
  ],
  "presets": [
    {
      "name": "NAD+ Decline Meter"
    }
  ]
}
{% endschema %}
